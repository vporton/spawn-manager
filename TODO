* Rewrite without GNAT.Expect (1. to increase portability; 2. to use fork()
  directly because we need to dup2() stdin/stdout in child process; 3. to
  increase performance). Regular Spawn does not do this.

* Use some unbounded string stream (where to get? write a new one?)
  The buffer of the string stream should be wrapped with a higher level
  packet, because it may be read as more than one recv() operation.
  Then implement asynchronous(?) communication with child process.

* Refuse to use SIGINT, use SIGTERM?

Unbounded in-memory streams (choose one):

http://www.dmitry-kazakov.de/ada/components.htm#Storage_Streams
https://github.com/sparre/black
stream_buffers-simple_unbounded.ads package at dequesterity.sourceforge.net
https://github.com/persan/a-stream-tools

Combine waitpid() and select():
https://stackoverflow.com/q/29245397/856090

select()/pselect()/poll()/ppoll()?
http://250bpm.com/blog:12
